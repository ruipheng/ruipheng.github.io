<!DOCTYPE html ><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>如何读取assets文件夹中的txt文件</title></head><body><span><a href="http://edison-cool911.iteye.com/blog/695145">如何读取assets文件夹中的txt文件</a></span><ul><li><span> <strong>博客分类：</strong>&nbsp;</span></li><li> <span> <a href="http://edison-cool911.iteye.com/category/111964">Android(网络相关)</a></span></li></ul><a href="http://www.iteye.com/blogs/tag/Android"> Android</a><a href="http://www.iteye.com/blogs/tag/Java">Java</a><a href="http://www.iteye.com/blogs/tag/OS">OS</a><a href="http://www.iteye.com/blogs/tag/XML">XML</a> 下面通过一个例子讲解读取资源文件显示在ScrollView当中:&nbsp;<br /> 1.ReadAsset.java文件:&nbsp;<br /><br /><ol><li> <span><span>package</span><span>&nbsp;com.example.ReadAsset;&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span><span>import</span><span>&nbsp;android.app.Activity;&nbsp;&nbsp;</span></span></li><li> <span><span>import</span><span>&nbsp;android.os.Bundle;&nbsp;&nbsp;</span></span></li><li> <span><span>import</span><span>&nbsp;android.widget.TextView;&nbsp;&nbsp;</span></span></li><li> <span><span>import</span><span>&nbsp;java.io.IOException;&nbsp;&nbsp;</span></span></li><li> <span><span>import</span><span>&nbsp;java.io.InputStream;&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span><span>public</span><span>&nbsp;</span><span>class</span><span>&nbsp;ReadAsset&nbsp;</span><span>extends</span><span>&nbsp;Activity&nbsp;{&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;<span>@Override</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;<span>protected</span><span>&nbsp;</span><span>void</span><span>&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>super</span><span>.onCreate(savedInstanceState);&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.read_asset);&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li> <span><span>//Return&nbsp;an&nbsp;AssetManager&nbsp;instance&nbsp;for&nbsp;your&nbsp;application's&nbsp;package</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;is&nbsp;=&nbsp;getAssets().open(<span>&quot;index.txt&quot;</span><span>);&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>int</span><span>&nbsp;size&nbsp;=&nbsp;is.available();&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;Read&nbsp;the&nbsp;entire&nbsp;asset&nbsp;into&nbsp;a&nbsp;local&nbsp;byte&nbsp;buffer.</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>byte</span><span>[]&nbsp;buffer&nbsp;=&nbsp;</span><span>new</span><span>&nbsp;</span><span>byte</span><span>[size];&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is.read(buffer);&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is.close();&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;Convert&nbsp;the&nbsp;buffer&nbsp;into&nbsp;a&nbsp;string.</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;text&nbsp;=&nbsp;<span>new</span><span>&nbsp;String(buffer,&nbsp;</span><span>&quot;GB2312&quot;</span><span>);&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;Finally&nbsp;stick&nbsp;the&nbsp;string&nbsp;into&nbsp;the&nbsp;text&nbsp;view.</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextView&nbsp;tv&nbsp;=&nbsp;(TextView)&nbsp;findViewById(R.id.text);&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tv.setText(text);&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span>catch</span><span>&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//&nbsp;Should&nbsp;never&nbsp;happen!</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>throw</span><span>&nbsp;</span><span>new</span><span>&nbsp;RuntimeException(e);&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li> <span>}&nbsp;&nbsp;</span></li></ol><br /> 2. read_asset.xml文件&nbsp;<br /><br /><ol><li> <span><span>&lt;?xml&nbsp;version=</span><span>&quot;1.0&quot;</span><span>&nbsp;encoding=</span><span>&quot;utf-8&quot;</span><span>?&gt;&nbsp;&nbsp;</span></span></li><li> <span>&lt;ScrollView&nbsp;android:layout_width=<span>&quot;fill_parent&quot;</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;xmlns:android=<span>&quot;http://schemas.android.com/apk/res/android&quot;</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=<span>&quot;fill_parent&quot;</span><span>&nbsp;android:paddingTop=</span><span>&quot;50dip&quot;</span><span>&gt;&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView&nbsp;android:id=<span>&quot;@+id/text&quot;</span><span>&nbsp;android:layout_width=</span><span>&quot;fill_parent&quot;</span><span>&nbsp;&nbsp;</span></span></li><li> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=<span>&quot;wrap_content&quot;</span><span>&nbsp;android:textStyle=</span><span>&quot;normal&quot;</span><span>&nbsp;/&gt;&nbsp;&nbsp;</span></span></li><li> <span>&lt;/ScrollView&gt;&nbsp;&nbsp;</span></li></ol><br /><br /> 3.然后在工程里面新建一个assets文件夹,随便放一个index.txt的文件在其中,运行&nbsp;<br /> &nbsp; Ctrl+F11进行测试即可;&nbsp;</body></html>
